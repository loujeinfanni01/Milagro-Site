<!DOCTYPE html>
<html lang="ar" >
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Milagro - My Addresses</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Philosopher:wght@400;700&display=swap">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="container">
            <nav class="navbar">
                <div class="logo">
                    <img src="./img/logo.svg" alt="MILAGRO Logo">
                </div>
                <div class="nav-links">
                    <a href="./index.html">Home</a>
                    <a href="./shop">Shop</a>
                    <a href="./new-arrivals">New Arrivals</a>
                    <a href="./contact">Contact</a>
                </div>
                <div class="nav-icons">
                    <a href="./shop"><img src="./img/heart-1.png" alt="Wishlist"></a>
                    <a href="#"><img src="./img/Group 9.svg" alt="Search"></a>
                    <a href="#"><img src="./img/cart.svg" alt="Cart"></a>
                    <a href="./account.html"><img src="./img/account.svg" alt="Account"></a>
                </div>
            </nav>
        </div>
    </header>

    <div class="profile-header">
        <h1>My Profile</h1>
    </div>

    <div class="profile-content">
        <div class="sidebar">
            <ul>
                <li><a href="./myinformations.html">My Information</a></li>
                <li><a href="./myadresses.html" class="active">My Addresses</a></li>
                <li><a href="./orders/order.html">My Orders</a></li>
                <li><a href="./logout.html">Log Out</a></li>
            </ul>
        </div>
        <div class="modal-overlay" id="addressModal" style="display: none;">
            <div class="modal">
                <div class="modal-header">
                    <div class="modal-title">Add New Address</div>
                    <img src="./img/close.jpg" alt="Close" class="close-btn" id="closeModalBtn" />
                </div>
    
                <form id="addressForm">
                    <div class="form-group">
                        <label class="form-label">Governorate</label>
                        <div class="select-wrapper">
                            <select class="form-select" name="governorate" required>
                                <option value="">Select a governorate</option>
                                <option>Capital</option>
                                <option>Hawalli</option>
                                <option>Ahmadi</option>
                                <option>Farwaniya</option>
                                <option>Mubarak Al-Kabeer</option>
                                <option>Jahra</option>
                            </select>
                        </div>
                    </div>
                
                    <div class="form-group">
                        <label class="form-label">Area</label>
                        <div class="select-wrapper">
                            <select class="form-select" name="area" required>
                                <option value="">Select an area</option>
                                <option>Al-Shamiya</option>
                                <option>Sharq</option>
                                <option>Kuwait City</option>
                                <option>Dasman</option>
                                <option>Hawalli</option>
                                <option>Salmiya</option>
                            </select>
                        </div>
                    </div>
                
                    <div class="form-group">
                        <label class="form-label">Block</label>
                        <input type="text" class="form-control" name="block" required>
                    </div>
                
                    <div class="form-group">
                        <label class="form-label">Street</label>
                        <input type="text" class="form-control" name="street" required>
                    </div>
                
                    <div class="form-group">
                        <label class="form-label">Building Number</label>
                        <input type="text" class="form-control" name="building_number" required>
                    </div>
                
                    <div class="form-group">
                        <label class="form-label">Special Instructions</label>
                        <input type="text" class="form-control" name="special_directions">
                    </div>
                
                    <button type="submit" class="submit-btn">ADD NEW ADDRESS</button>
                </form>
            </div>
        </div>
    
        <!-- Addresses Content -->
        <div class="content">
            <div class="address-list">
                <div class="address-card">
                    <div class="address-header">
                        <img src="./img/home (2) 1.png" alt="Address Icon" class="address-icon">
                        <span>Sharq - Kuwait</span>
                    </div>
                    <div class="address-details">
                        Block: 3, St Number: 502, Building Number: 59
                    </div>
                    <div class="address-actions">
                        
                        <img src="./img/Group 263.png" alt="Delete" class="action-icon delete-icon">
                    </div>
                </div>
                <div class="address-card1">
                    <div class="address-header">
                        <img src="./img/home (2) 1.png" alt="Address Icon" class="address-icon">
                        <span>Al-Shamiya - Kuwait</span>
                    </div>
                    <div class="address-details">
                        Block: 6, St Number: 502, Building Number: 59
                    </div>
                    <div class="address-actions">
                        
                        <img src="./img/Group 263.png" alt="Delete" class="action-icon delete-icon">
                    </div>
                </div>
                <div class="address-card1">
                    <div class="address-header">
                        <img src="./img/home (2) 1.png" alt="Address Icon" class="address-icon">
                        <span>Al-Shamiya - Kuwait</span>
                    </div>
                    <div class="address-details">
                        Block: 6, St Number: 502, Building Number: 59
                    </div>
                    <div class="address-actions">
                        
                        <img src="./img/Group 263.png" alt="Delete" class="action-icon delete-icon">
                    </div>
                </div>
            </div>

            <button class="add-address-btn" id="openModalBtn">ADD NEW ADDRESS</button>
        </div>
    </div>

    <!-- Modal - Add New Address -->
    
    <footer>
        <div class="footer-container">
            <div class="footer-section logo-section">
                <img src="./img/logo.svg" alt="Milagro Logo" class="logo">
                <div class="brand-name">MILAGRO</div>
            </div>
            <div class="footer-section">
                <h3 class="footer-heading">LINKS</h3>
                <div class="footer-links">
                    <a href="./index.html">Home</a>
                    <a href="./shop">Shop</a>
                    <a href="./contact">Contact</a>
                    <a href="./new-arrivals">New Arrivals</a>
                </div>
            </div>
            <div class="footer-section">
                <h3 class="footer-heading">CONTACT US</h3>
                <div class="contact-info">
                    <div>+965 99982794</div>
                    <div>info@milagro.com</div>
                </div>
            </div>
            <div class="footer-section">
                <h3 class="footer-heading">OUR ADDRESS</h3>
                <div>
                    Al-Ghawali Complex |<br>
                    Devon Complex, Capital,<br>
                    Kuwait City, Kuwait
                </div>
            </div>
            <div class="footer-section">
                <h3 class="footer-heading">FOLLOW US</h3>
                <div class="social-icons">
                    <img src="./img/vector.svg">
                </div>
            </div>
        </div>
    </footer>

    <script>
    // Script to handle modal open/close
    // Script to handle modal open/close
    document.addEventListener('DOMContentLoaded', function() {
        const modal = document.getElementById('addressModal');
        const openBtn = document.getElementById('openModalBtn');
        const closeBtn = document.getElementById('closeModalBtn');
        const body = document.body;
        const addressForm = document.querySelector('#addressModal form');
        const addressList = document.querySelector('.address-list');
    
        // Open modal
        openBtn.addEventListener('click', function() {
            modal.style.display = 'flex';
            body.style.overflow = 'hidden'; // Prevent scrolling when modal is open
        });
    
        // Close modal
        closeBtn.addEventListener('click', function() {
            modal.style.display = 'none';
            body.style.overflow = 'auto'; // Re-enable scrolling
        });
    
        // Close modal when clicking outside
        window.addEventListener('click', function(event) {
            if (event.target === modal) {
                modal.style.display = 'none';
                body.style.overflow = 'auto'; // Re-enable scrolling
            }
        });
    
        // Handle form submission
        addressForm.addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent the form from submitting to the server
    
            // Get form data
            const formData = new FormData(addressForm);
            const governorate = formData.get('governorate');
            const area = formData.get('area');
            const block = formData.get('block');
            const street = formData.get('street');
            const buildingNumber = formData.get('building_number');
            const specialInstructions = formData.get('special_directions');
    
            // Create new address card
            const newAddressCard = document.createElement('div');
            newAddressCard.className = 'address-card';
            newAddressCard.innerHTML = `
                <div class="address-header">
                    <img src="./img/home (2) 1.png" alt="Address Icon" class="address-icon">
                    <span>${area} - ${governorate}</span>
                </div>
                <div class="address-details">
                    Block: ${block}, St Number: ${street}, Building Number: ${buildingNumber}
                    ${specialInstructions ? '<br>Special Instructions: ' + specialInstructions : ''}
                </div>
                <div class="address-actions">
                    <img src="./img/Group 263.png" alt="Delete" class="action-icon delete-icon">
                </div>
            `;
    
            // Add delete functionality to the new card
            const deleteIcon = newAddressCard.querySelector('.delete-icon');
            deleteIcon.addEventListener('click', function() {
                if (confirm('Are you sure you want to delete this address?')) {
                    newAddressCard.remove();
                }
            });
    
            // Add the new address card to the list
            addressList.prepend(newAddressCard); // Add as first item
    
            // Reset form and close modal
            addressForm.reset();
            modal.style.display = 'none';
            body.style.overflow = 'auto';
    
            // Show confirmation message
            const confirmMessage = document.createElement('div');
            confirmMessage.className = 'confirm-message';
            confirmMessage.textContent = 'Address added successfully!';
            confirmMessage.style.position = 'fixed';
            confirmMessage.style.top = '20px';
            confirmMessage.style.left = '50%';
            confirmMessage.style.transform = 'translateX(-50%)';
            confirmMessage.style.backgroundColor = 'var(--gold)';
            confirmMessage.style.color = 'var(--white)';
            confirmMessage.style.padding = '10px 20px';
            confirmMessage.style.borderRadius = '5px';
            confirmMessage.style.zIndex = '2000';
            document.body.appendChild(confirmMessage);
    
            // Remove confirmation message after 3 seconds
            setTimeout(() => {
                confirmMessage.style.opacity = '0';
                confirmMessage.style.transition = 'opacity 0.5s ease';
                setTimeout(() => confirmMessage.remove(), 500);
            }, 3000);
        });
    
        // Add delete functionality to existing address cards
        const deleteIcons = document.querySelectorAll('.delete-icon');
        deleteIcons.forEach(icon => {
            icon.addEventListener('click', function() {
                if (confirm('Are you sure you want to delete this address?')) {
                    this.closest('.address-card, .address-card1').remove();
                }
            });
        });
    });
    </script>
</body>
</html>